<div class="host_wrapper">
    <div class="host" id="host">
        <img class="avatar" src="/static/images/property_details/ico_phoneowner.png"></img>
        <label class="hostName">{{rent.get('creator_user',{}).get('nickname','')}}</label>
        <div class="hostPhone">
            <img class="phoneIco" src="/static/images/property_details/ico_phone.png"></img>
            <span>+{{rent.get('creator_user',{}).get('country_code','') }}</span> <span>{{rent.get('creator_user',{}).get('phone','')}}</span>
        </div>
    </div>
    <div class="contactRequest" id="contactRequest">
        <button id="contactRequestBtn" class="flatButton ajaxButton">{{_('查看房东完整联系方式')}}</button>
        <form class="contactRequestForm" name="contactRequestForm"
            data-message-success="{{_('提交成功')}}"
            data-message-40000="{{_('你填写的手机或邮箱的格式不正确')}}"
            data-message-unknown="{{_('服务器忙，请稍后')}}"
            >
            <div class="row">
                <label>{{_('为保证租客真实性，请先点击此处') }}<a class="link" onclick="javascript:project.showSignInModalOrGoToSignIn()">{{_('登陆') }}</a>{{_('，或注册个人资料再获取房东联系方式')}}</label>
            </div>
            <input name="rent_id" type="hidden" value="{{rent.get('id','')}}"/>
            <div class="row">
                <input name="nickname" type="text" placeholder="{{_('您的姓名(必填)')}}" data-validator="trim, required"/>
            </div>
            <div class="row">
                <input name="email" type="text" placeholder="{{_('您的邮箱(必填)')}}" data-validator="trim, required, email"/>
            </div>
            <div class="row phone">
                <select name="country">
                    % for country in country_list:
                        % if country.get('slug') == 'GB':
                            <option value="{{country.get('id')}}"
                            % if country.get('id') == user.get('country',{}).get('id') if user and user.get('country') else None:
                            selected
                            %end
                            >
                            (+44){{country.get('value')}}
                            </option>
                            % country_list.remove(country)
                        %end
                    %end
                    %for index, country in enumerate(country_list):
                    <option value="{{country.get('id')}}"
                    % if country.get('id') == user.get('country',{}).get('id') if user and user.get('country') else None:
                    selected
                    %end
                    >
                    %if (country.get('slug') == 'CN'):
                    (+86)
                    %elif (country.get('slug') == 'GB') :
                    (+44)
                    %elif (country.get('slug') == 'US') :
                    (+1)
                    %elif (country.get('slug') == 'HK') :
                    (+852)
                    %end
                    {{country.get('value')}}
                    </option>
                    %end
                </select>
                <input name="phone" type="text" placeholder="{{_('您的电话(必填)')}}" data-validator="trim, required"/>
            </div>
            <div class="row code">
                <input name="code" type="text" placeholder="{{_('手机验证码')}}" data-validator="trim, required"/>
                <button name="getCodeBtn" type="button" class="button green ajaxButton">{{_('获取验证码')}}</button>
            </div>
            <div class="row" data-role="serverFeedback" style="display: none; color: red;"></div>
            <div class="action">
                <button class="flatButton ajaxButton" type="submit" disabled>{{_('提交')}}</button>
            </div>
        </form>
    </div>
</div>