% if property.get('property_type') and (property.get('property_type').get('slug') == 'new_property' or property.get('property_type').get('slug') == 'student_housing') and 'main_house_types' in property and property.get('main_house_types') and len(property.get('main_house_types')):
    % minPrice = property.get('main_house_types')[0].get('total_price_min')
    % for index, type  in enumerate(property.get('main_house_types')):
        % if int(float(minPrice.get('value'))) > int(float(type.get('total_price_min').get('value',''))):
            % minPrice = type.get('total_price_min')
        %end
    %end
    % if 'localized_unit_symbol' in minPrice:
    <div class="price_reference">
        {{_('约')}}
        <span>
            {{minPrice.get('localized_unit_symbol')}}
        </span>
        <span data-type="formatted_currency">
            {{int(float(minPrice.get('localized_value')))}}
        </span>
        <span class="mute">{{_('起')}}</span>
    </div>
    %end
% else :
    %if 'total_price' in property and property.get('total_price') and 'localized_unit_symbol' in property.get('total_price'):
    <div class="price_reference">
        <span class="mute">{{_('约')}}</span>
        <br/>
        <span>{{property.get('total_price',{}).get('localized_unit_symbol','')}}</span>
        <span data-type="formatted_currency">
            {{int(float(property.get('total_price',{}).get('localized_value','')))}}
        </span>
    </div>
    %end
% end
