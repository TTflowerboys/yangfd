/* -------------------- Check Browser --------------------- */
function browser() {
    function i(e) {return e in document.documentElement.style}

    var e = !!window.opera && !!window.opera.version, t = i("MozBoxSizing"), n = Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor") > 0, r = !n && i("WebkitTransform");
    return e ? !1 : n || r ? !0 : !1
}
function retina() {
    retinaMode = window.devicePixelRatio > 1;
    return retinaMode
}
function hexToRgb(e) {
    var t = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);
    return t ? {r: parseInt(t[1], 16), g: parseInt(t[2], 16), b: parseInt(t[3], 16)} : null
}
function rgbToRgba(e, t) {
    if (jQuery.browser.version <= 8) {
        e = hexToRgb(e);
        rgba = "rgba(" + e.r + "," + e.g + "," + e.b + "," + t + ")"
    } else {
        e = e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);
        rgba = "rgba(" + e[1] + "," + e[2] + "," + e[3] + "," + t + ")"
    }
    return rgba
}
jQuery(document).ready(function ($) {
    $('body').on('click', "#main-menu-toggle", function () {
        if ($(this).hasClass("open")) {
            $(this).removeClass("open").addClass("close");
            var t = $("#content").attr("class"), n = parseInt(t.replace(/^\D+/g, "")), r = n + 2, i = "span" + r;
            $("#content").addClass("full");
            $(".navbar-brand").addClass("noBg");
            $("#sidebar-left").hide()
        } else {
            $(this).removeClass("close").addClass("open");
            var t = $("#content").attr("class"), n = parseInt(t.replace(/^\D+/g, "")), r = n - 2, i = "span" + r;
            $("#content").removeClass("full");
            $(".navbar-brand").removeClass("noBg");
            $("#sidebar-left").show()
        }
    });
    $('body').on('click', "#main-menu-min", function () {
        if ($(this).hasClass("full")) {
            $(this).removeClass("full").addClass("minified").find("i").removeClass("fa-angle-double-left").addClass("fa-angle-double-right");
            $("body").addClass("sidebar-minified");
            $("#content").addClass("sidebar-minified");
            $("#sidebar-left").addClass("minified");
            $(".dropmenu > .chevron").removeClass("opened").addClass("closed");
            $(".dropmenu").parent().find("ul").hide();
            $("#sidebar-left > div > ul > li > a > .chevron").removeClass("closed").addClass("opened");
            $("#sidebar-left > div > ul > li > a").addClass("open")
        } else {
            $(this).removeClass("minified").addClass("full").find("i").removeClass("fa-angle-double-right").addClass("fa-angle-double-left");
            $("body").removeClass("sidebar-minified");
            $("#content").removeClass("sidebar-minified");
            $("#sidebar-left").removeClass("minified");
            $("#sidebar-left > div > ul > li > a > .chevron").removeClass("opened").addClass("closed");
            $("#sidebar-left > div > ul > li > a").removeClass("open")
        }
    });
    $('body').on('click', ".dropmenu", function (e) {
        e.preventDefault();
        if ($("#sidebar-left").hasClass("minified")) {
            if (!$(this).hasClass("open")) {
                $(this).parent().find("ul").first().slideDown();
            }
        } else {
            $(this).parent().find("ul").first().slideDown();
        }
    });
    if ($("#sidebar-left").hasClass("minified")) {
        $("#sidebar-left > div > ul > li > a > .chevron").removeClass("closed").addClass("opened");
        $("#sidebar-left > div > ul > li > a").addClass("open");
        $("body").addClass("sidebar-minified")
    }
});

jQuery(document).ready(function (e) {
//    e("ul.main-menu").find("a").each(function () {
//        if (e(e(this))[0].href == String(window.location)) {
//            e(this).parent().addClass("active");
//            e(this).parents("ul").add(this).each(function () {
//                e(this).show();
//                e(this).prev("a").find(".chevron").removeClass("closed").addClass("opened")
//            })
//        }
//    })
});
