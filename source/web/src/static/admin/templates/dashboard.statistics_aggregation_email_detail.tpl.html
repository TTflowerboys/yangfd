
<div class="row">
  <div class="col-sm-12">
    <div class="box">
      <div class="box-content">
        <div class="btn-group form-inline">
          <div edit-date ng-model="$parent.selected.date_from" placeholder="{%i18n('起租时间')%}"></div>
        </div>
        <div class="btn-group form-inline">
          <div edit-date ng-model="$parent.selected.date_to" placeholder="{%i18n('结束时间')%}"></div>
        </div>
        <div class="btn-group form-inline">
          <button class="btn btn-primary" ng-click="get_aggregate_data()">{%$root.i18n('获取数据')%}</button>
        </div>
        <table class="table table-striped table-bordered bootstrap-datatable datatable">
          <tr>
            <td colspan="2" class="col-sm-4">
              邮件类别总数：
            </td>
            <td colspan="2" class="col-sm-8">
              {%value.aggregation_email_tag_total%}
            </td>
          </tr>
          <tr ng-if="!value.aggregation_email_tag_detail.length">
            <td colspan="2">各类邮件统计详细：</td>
            <td colspan="2">{%place_holder%}</td>
          </tr>
          <tr ng-repeat="item in value.aggregation_email_tag_detail">
            <td ng-if="$index === 0" rowspan="{%value.aggregation_email_tag_detail.length%}">
              各类邮件统计详细：
            </td>
            <td ng-if="item.total" rowspan="{%item.total%}">
                {%item.tag | email_tag%}
            </td>
            <td class="col-sm-4">
              {%item.key | email_event%}
            </td>
            <td class="col-sm-4">
              {%item.value%}
            </td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</div>
