<div ui-view>

    <div class="row" style="min-height: 600px;">
        <div class="col-lg-12">
            <div class="buttons">

                <span class="btn-group">
                    <button class="btn" ui-sref=".create">
                        <span class="fa fa-plus-circle"></span> 添加管理员
                    </button>
                </span>

                <span class="btn-group pull-right">
                    <button ng-hide="noPrev" class="btn" ng-click="prevPage()">← 上一页</button>
                    <button ng-hide="noNext" class="btn" ng-click="nextPage()">下一页 →</button>
                </span>

            </div>
            <table class="table table-bordered table-striped table-condensed">
                <colgroup>
                    <col class="nickname">
                    <col class="email">
                    <col class="phone">
                    <col class="roles">
                    <col class="addRole">
                    <col class="removeRole">
                </colgroup>
                <thead>
                    <tr>
                        <th>姓名</th>
                        <th>邮箱</th>
                        <th>手机</th>
                        <th>权限</th>
                        <th>增加权限</th>
                        <th>取消权限</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in list">
                        <td>
                            {%item.nickname%}
                        </td>
                        <td>
                            {%item.email%}
                        </td>
                        <td>
                            {%item.phone%}
                        </td>
                        <td>
                            <div ng-repeat="role in item.role">
                                {%role | permissionName %}
                            </div>
                        </td>
                        <td class="form-inline">
                            <select ng-options="p.value as p.name for p in item.role | permissionCanAdd" ng-model="roleToAdd"
                                class="form-control input-sm" style="width: 130px;">
                                <option value="">-- 选择权限 --</option>
                            </select>
                            <button ng-show="roleToAdd" class="btn btn-sm btn-primary" ng-click="onAddRole(item,roleToAdd)">提交</button>
                        </td>
                        <td class="form-inline">
                            <select ng-options="p | permissionName for p in item.role" ng-model="roleToRemove"
                                class="form-control input-sm" style="width: 130px;">
                                <option value="">-- 选择权限 --</option>
                            </select>
                            <button ng-show="roleToRemove" class="btn btn-sm btn-danger" ng-click="onRemoveRole(item,roleToRemove)">提交</button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div ng-show="fetched && list.length === 0" class="well" style="text-align:center;">No results</div>
            <div class="buttons">


                <span class="btn-group pull-right">
                    <button ng-hide="noPrev" class="btn" ng-click="prevPage()">← Prev Page</button>
                    <button ng-hide="noNext" class="btn" ng-click="nextPage()">Next Page →</button>
                </span>

            </div>

        </div>
    </div>
    <!--/container-->
</div>
