<div ui-view>
<div class="buttons">

    <span class="btn-group">
        <button class="btn" ng-click="$state.go('^')"><span class="fa fa-chevron-left"></span>返回</button>
    </span>

</div>
<form class="form-horizontal login" method="post" autocomplete="on" ng-class="{submitted:submitted}"
      ng-submit="submit($event,createEstate)" name="createEstate" novalidate>
<tabset justified="true">
<tab heading="房产通用信息">
<div class="form-group">
    <label class="control-label">名称</label>

    <div class="controls">
        <input type="text" class="input-xlarge uneditable-input" ng-model="item.name"/>
    </div>
</div>
<div class="form-group">
    <label class="control-label">房产类型</label>

    <div class="controls">
        <select class="form-control" ng-model="item.property_type" style="width: 185px;"
                ng-options="p.value as p.name for p in property_types">
            <option value="">-- 选择 --</option>
        </select>
    </div>
</div>
<div class="form-group">
    <label class="control-label">国家</label>

    <div class="controls">
        <input type="text" class="input-xlarge uneditable-input" ng-model="item.country"/>
    </div>
</div>
<div class="form-group">
    <label class="control-label">城市</label>

    <div class="controls">
        <input type="text" class="input-xlarge uneditable-input" ng-model="item.city"/>
    </div>
</div>
<div class="form-group">
    <label class="control-label">街区</label>

    <div class="controls">
        <input type="text" class="input-xlarge uneditable-input" ng-model="item.street"/>
    </div>
</div>
<div class="form-group">
    <label class="control-label">邮编</label>

    <div class="controls">
        <input type="text" class="input-xlarge uneditable-input" ng-model="item.zipcode"/>
    </div>
</div>
<div class="form-group">
    <label class="control-label">地址详情</label>

    <div class="controls">
        <input type="text" class="input-xlarge uneditable-input" ng-model="item.address"/>
    </div>
</div>
<div class="form-group">
    <label class="control-label">亮点</label>

    <div class="controls">
        <div class="row">
            <div ng-repeat="point in item.highlight" style="margin-bottom:30px"
                 class="col-sm-3 col-xs-6">
                <span type="text" class="input-xlarge uneditable-input">{%point%}</span>
            </div>
        </div>
    </div>
    <div class="controls">
        <input type="text" ng-model="item.tempPoint" placeholder="亮点"/>
        <input type="button" ng-click="addHighlight()" class="btn btn-primary" value="添加">
    </div>
</div>
<div class="form-group">
    <label class="control-label">年化回报预估</label>

    <div class="controls">
        <input type="text" class="input-xlarge uneditable-input" ng-model="item.annual_return_estimated"/>
    </div>
</div>
<div class="form-group">
    <label class="control-label">投资标签</label>

    <div class="controls">
        <div class="controls">
            <select class="form-control" ng-model="item.intention" style="width: 185px;"
                    ng-options="p.id as p.value for p in intentions">
                <option value="">-- 选择 --</option>
            </select>
        </div>
    </div>
</div>
<div class="form-group">
    <label class="control-label">产权类型</label>

    <div class="controls">
        <div class="controls">
            <select class="form-control" ng-model="item.equity_type" style="width: 185px;"
                    ng-options="p.id as p.value for p in equityTypes">
                <option value="">-- 选择 --</option>
            </select>
        </div>
    </div>
</div>
<div class="form-group">
    <label class="control-label">装修风格</label>

    <div class="controls">
        <input type="text" class="input-xlarge uneditable-input" ng-model="item.decorative_style"/>
    </div>
</div>
<div class="form-group">
    <label class="control-label">地图位置</label>

    <div class="controls">
        <input type="text" class="input-xlarge uneditable-input" ng-model="item.latitude" placeholder="Latitude"/>
        <input type="text" class="input-xlarge uneditable-input" ng-model="item.longtitude" placeholder="Longtitude"/>
    </div>
</div>
<div class="form-group">
    <label class="control-label">实景图</label>

    <div class="controls">
        <images-edit ng-model="item.reality_images" width-limit="1920" ratio="2" thumbnail-size="800,400"
                     required></images-edit>
    </div>
</div>
<div class="form-group">
    <label class="control-label">生活配设施图</label>

    <div class="controls">
        <images-edit ng-model="item.surroundings_images" width-limit="1920" ratio="2" thumbnail-size="800,400"
                     required></images-edit>
    </div>
</div>
<div class="form-group">
    <label class="control-label">房产价格类型</label>

    <div class="controls">
        <input type="text" class="input-xlarge uneditable-input" ng-model="item.property_price_type"/>
    </div>
</div>
<div class="form-group">
    <label class="control-label">同等房产描述</label>

    <div class="controls">
        <input type="text" class="input-xlarge uneditable-input" ng-model="item.equal_property_description"/>
    </div>
</div>
<div class="form-group">
    <label class="control-label">历史成交价格</label>

    <div class="controls">
        <table class="table table-bordered table-striped table-condensed "
               style="margin-bottom:30px">
            <colgroup>
                <col class="item">
                <col class="price">
            </colgroup>
            <thead>
            <tr>
                <th>成交时间</th>
                <th>成交价格</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="price in item.historical_price">
                <td>{%price.time%}</td>
                <td>{%price.price%}</td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="controls">
        成交时间
        <date-edit ng-model="item.tempHistoryTime"></date-edit>
        <input type="text" ng-model="item.tempHistoryPrice" placeholder="成交价格"/>
        <input type="button" ng-click="addHistoricalPrice()" class="btn btn-primary" value="添加">
    </div>
</div>
<div class="form-group">
    <label class="control-label">估计月租金收入</label>

    <div class="controls">
        <input type="text" class="input-xlarge uneditable-input" ng-model="item.estimated_monthly_rent"/>
    </div>
</div>
<div class="form-group">
    <label class="control-label">估计月平均支出</label>

    <div class="controls">
        <table class="table table-bordered table-striped table-condensed"
               style="margin-bottom:30px">
            <colgroup>
                <col class="item">
                <col class="price">
            </colgroup>
            <thead>
            <tr>
                <th>支出名称</th>
                <th>支出费用</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="cost in item.estimated_monthly_cost">
                <td>{%cost.item%}</td>
                <td>{%cost.price%}</td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="controls">
        <input type="text" ng-model="item.tempCostItem" placeholder="支出名称"/>
        <input type="text" ng-model="item.tempCostPrice" placeholder="支出费用"/>
        <input type="button" ng-click="addCost()" class="btn btn-primary" value="添加">
    </div>
</div>
</tab>
<tab heading="非楼盘特有信息" ng-show="item.property_type !== 'property'">
    <div class="form-group">
        <label class="control-label">总价格</label>

        <div class="controls">
            <input type="text" class="input-xlarge uneditable-input" ng-model="item.total_price"/>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">居室数</label>

        <div class="controls">
            <input type="text" class="input-xlarge uneditable-input" ng-model="item.bedroom_count"/>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">客厅数</label>

        <div class="controls">
            <input type="text" class="input-xlarge uneditable-input" ng-model="item.living_room_count"/>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">卫生间数</label>

        <div class="controls">
            <input type="text" class="input-xlarge uneditable-input" ng-model="item.bathroom_count"/>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">厨房数</label>

        <div class="controls">
            <input type="text" class="input-xlarge uneditable-input" ng-model="item.kitchen_count"/>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">朝向</label>

        <div class="controls">
            <input type="text" class="input-xlarge uneditable-input" ng-model="item.facing_direction"/>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">面积</label>

        <div class="controls">
            <input type="text" class="input-xlarge uneditable-input" ng-model="item.space"/>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">户型图</label>

        <div class="controls">
            <images-edit text="你" ng-model="item.floor_plan" width-limit="1920" ratio="2" thumbnail-size="800,400"
                         required></images-edit>
        </div>
    </div>
</tab>
<tab heading="楼盘信息" ng-show="item.property_type === 'property'">
    <div class="form-group">
        <label class="control-label">单位面积参考价格</label>

        <div class="controls">
            <input type="text" class="input-xlarge uneditable-input" ng-model="item.unit_price"/>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">主要户型</label>

        <div class="controls">
            <table class="table table-bordered table-striped table-condensed"
                   style="margin-bottom:30px">
                <colgroup>
                    <col class="name">
                    <col class="bedroom_count">
                    <col class="living_room_count">
                    <col class="bathroom_count">
                    <col class="kitchen_count">
                    <col class="total_price">
                    <col class="floor_plan">
                </colgroup>
                <thead>
                <tr>
                    <th>户型名</th>
                    <th>居室数</th>
                    <th>客厅数</th>
                    <th>卫生间数</th>
                    <th>厨房数</th>
                    <th>户型总价</th>
                    <th>户型图</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="main_type in item.main_house_types">
                    <td>{%main_type.name%}</td>
                    <td>{%main_type.bedroom_count%}</td>
                    <td>{%main_type.living_room_count%}</td>
                    <td>{%main_type.bathroom_count%}</td>
                    <td>{%main_type.kitchen_count%}</td>
                    <td>{%main_type.total_price%}</td>
                    <td>{%main_type.floor_plan%}</td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="controls">
            <input type="text" ng-model="item.tempHouseName" placeholder="户型名"/>
            <input type="text" ng-model="item.tempBedroomCount" placeholder="居室数"/>
            <input type="text" ng-model="item.tempLivingRoomCount" placeholder="客厅数"/>
            <input type="text" ng-model="item.tempBathroomCount" placeholder="卫生间数"/>
            <input type="text" ng-model="item.tempKitchenCount" placeholder="厨房数"/>
            <input type="text" ng-model="item.tempTotalPrice" placeholder="户型总价"/>
            <single-image-edit ng-model="item.tempFloorPlan" width-limit="1920" ratio="2" thumbnail-size="800,400"
                               text="户型图"></single-image-edit>
            <input type="button" ng-click="addHouse()" class="btn btn-primary" value="添加户型"/>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">开盘时间</label>

        <div class="controls">
            <date-edit ng-model="item.opening_time"></date-edit>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">建筑类型</label>

        <div class="controls">
            <input type="text" class="input-xlarge uneditable-input" ng-model="item.building_type"/>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">物业类型</label>

        <div class="controls">
            <input type="text" class="input-xlarge uneditable-input" ng-model="item.property_management_type"/>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">建筑面积</label>

        <div class="controls">
            <input type="text" class="input-xlarge uneditable-input" ng-model="item.building_area"/>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">容积率</label>

        <div class="controls">
            <input type="text" class="input-xlarge uneditable-input" ng-model="item.plot_ratio"/>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">规划面积</label>

        <div class="controls">
            <input type="text" class="input-xlarge uneditable-input" ng-model="item.planning_area"/>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">绿化率</label>

        <div class="controls">
            <input type="text" class="input-xlarge uneditable-input" ng-model="item.greening_rate"/>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">车位数</label>

        <div class="controls">
            <input type="text" class="input-xlarge uneditable-input" ng-model="item.parking_space_count"/>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">规划户数</label>

        <div class="controls">
            <input type="text" class="input-xlarge uneditable-input" ng-model="item.planning_household_count"/>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">开发商</label>

        <div class="controls">
            <input type="text" class="input-xlarge uneditable-input" ng-model="item.developer"/>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">物业公司</label>

        <div class="controls">
            <input type="text" class="input-xlarge uneditable-input" ng-model="item.property_management_company"/>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">效果图</label>

        <div class="controls">
            <images-edit ng-model="item.effect_pictures" width-limit="1920" ratio="2" thumbnail-size="800,400"/>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">室内样板间图</label>

        <div class="controls">
            <images-edit ng-model="item.indoor_sample_room_picture" width-limit="1920" ratio="2"
                         thumbnail-size="800,400"/>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">规划图</label>

        <div class="controls">
            <images-edit ng-model="item.planning_map" width-limit="1920" ratio="2" thumbnail-size="800,400"/>
        </div>
    </div>
</tab>
<tab heading="房产审核单">
    <div class="form-group">
        <label class="control-label">审核备注</label>

        <div class="controls">
            <input type="text" class="input-xlarge uneditable-input" ng-model="item.comment"/>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">审核附件</label>

        <div class="controls">
            <files-edit ng-model="item.attachment" text="上传附件"></files-edit>
        </div>
    </div>
</tab>
</tabset>
<input type="submit" class="btn btn-primary" value="提交">
</form>
</div>