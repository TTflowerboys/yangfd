<!--@@master = master.html-->
<!--@@block = head-->
<link rel="stylesheet" href="/static/styles/userPage.css"/>
<link rel="stylesheet" href="/static/styles/project/userProfile.css"/>
<!--@@close-->
<!--@@block = main-->
<div class="userPage">
    <div class="aside userProfile">
        <img src="/static/images/placeholder/avatar.jpg" alt="" width="360" height="360"/>
        <div class="account">
            <h1>Gordan Freeman</h1>
            <span class="verificationStatus red">
                <i><img src="/static/images/icon/user-phone.png" style="margin-top:2px;"/></i>手机未验证
            </span>

            <span class="verificationStatus">
                <i><img src="/static/images/icon/user-email.png"/></i>邮箱已验证
            </span>
        </div>
        <div class="settings">
            <ul>
                <li>
                    <a href="#"><img src="/static/images/icon/user/gear-grey.png"/></a>
                    账户管理
                </li>
                <li>
                    <a href="#"><img src="/static/images/icon/user/star-grey.png"/></a>
                    我的收藏
                </li>
                <li>
                    <a href="#"><img src="/static/images/icon/user/sheet-grey.png"/></a>
                    投资意向单
                </li>
                <li>
                    <a href="#"><img src="/static/images/icon/user/house-grey.png"/></a>
                    我的房产
                </li>
                <li>
                    <a href="#"><img src="/static/images/icon/user/email-grey.png"/></a>
                    消息
                </li>
            </ul>
        </div>
        <div id="cvView" class="cv">
            <div class="header">
                <h2>个人资料</h2>
                <button name=edit type="button" class="ghostButton red">编辑</button>
            </div>
            <hr/>
            <table>
                <colgroup>
                    <col class="head">
                    <col class="value">
                </colgroup>
                <tbody>
                    <tr>
                        <td>姓名</td>
                        <td>王超</td>
                    </tr>
                    <tr>
                        <td>性别</td>
                        <td>男</td>
                    </tr>
                    <tr>
                        <td>生日</td>
                        <td>1989年3月27日</td>
                    </tr>
                    <tr>
                        <td>国家</td>
                        <td>中国</td>
                    </tr>
                    <tr>
                        <td>城市</td>
                        <td>武汉</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <form id="cvEdit" class="cv" style="display: none;">
            <div class="header">
                <h2>个人资料</h2>
                <button name="cancel" type="button" class="ghostButton red">取消</button>
                <button type="submit" class="ghostButton red">提交</button>
            </div>
            <hr/>
            <div class="error" style="display: none;">
                姓名不能为空。
            </div>
            <div class="success" style="display: none;">
                更新成功。
            </div>
            <table>
                <colgroup>
                    <col class="head">
                    <col class="value">
                </colgroup>
                <tbody>
                    <tr>
                        <td>姓名</td>
                        <td><input name="nickname" type="text" value="王超" data-validator="required,trim"
                            data-msg-required="请填写姓名"/></td>
                    </tr>
                    <tr>
                        <td>性别</td>
                        <td><label><input name="gender" type="radio" value="male" checked/> 男</label>
                            <label><input name="gender" type="radio" value="female"/> 女</label></td>
                    </tr>
                    <tr>
                        <td>国家</td>
                        <td><select name="country">
                            <option value="中国">中国</option>
                        </select></td>
                    </tr>
                    <tr>
                        <td>城市</td>
                        <td><select name="city">
                            <option value="武汉">武汉</option>
                        </select></td>
                    </tr>
                </tbody>
            </table>
        </form>
    </div>
    <div class="main">
        <!--@@placeholder = main-->
    </div>
</div>
<!--@@close-->
<!--@@block = scripts-->
<script>
    $('#cvView').find('button[name=edit]').on('click', function () {
        $('#cvView').hide()
        $('#cvEdit').show()
    })
    $('#cvEdit').find('button[name=cancel]').on('click', function () {
        $('#cvView').show()
        $('#cvEdit').hide()
    }).end()
        .submit(function (e) {
            e.preventDefault()
            $(this).find('.error,.success').hide()
            var valid = $.validate(this, {
                onError: function (dom, name) {
                    $('#cvEdit').find('.error').text(dom.getAttribute('data-msg-' + name)).show()
                }
            })

            if (valid) {
                var data = $(this).serializeObject()
                console.log("data:")
                console.log(data)
                $('#cvEdit').find('.success').show()
                throw '代码未完成'

            }

        })
</script>
<!--@@close-->
