<!--@@master=masters/master.html-->
<!--@@block=head -->

<!--build:css(dist) /static/styles/property_to_rent_list.html.css-->
<link rel="stylesheet" href="/static/bower_components/jquery.daterangepicker/daterangepicker.css"/>
<link rel="stylesheet" href="/static/styles/dateRangePickerOverwirte.css"/>
<link rel="stylesheet" href="/static/styles/project/rentCard.css"/>
<link rel="stylesheet" href="/static/styles/property_to_rent_list.css"/>
<link rel="stylesheet" href="/static/styles/project/houseInfobox.css"/>
<!--endbuild-->

<!--@@close-->

<!--@@block=main -->
<div class="property_data_manager" style="display:none">

    <textarea id="countryData">
        {{json_dumps(country_list)}}
    </textarea>
    <textarea id="cityData">
        {{json_dumps(city_list)}}
    </textarea>
    <textarea id="propertyCountryData">
        {{json_dumps(property_country_list)}}
    </textarea>
    <textarea id="propertyCityData">
        {{json_dumps(property_city_list)}}
    </textarea>
    <textarea id="rentTypeData">
        {{json_dumps(rent_type_list)}}
    </textarea>
    <textarea id="rentBudgetData">
        {{json_dumps(rent_budget_list)}}
    </textarea>
    <textarea id="propertyTypeData">
        {{json_dumps(property_type_list)}}
    </textarea>
    <textarea id="rentPeriodData">
        {{json_dumps(rent_period_list)}}
    </textarea>
    <textarea id="bedroomCountData">
        {{json_dumps(bedroom_count_list)}}
    </textarea>
    <textarea id="spaceData">
        {{json_dumps(building_area_list)}}
    </textarea> 
</div>

<div class="category_wrapper">
    <div class="category">
        <span>{{_('我想在')}}</span>
        <select class="ghostSelect" name="propertyCountry">
            <option value="" selected>{{_('任意国家/地区')}}</option>
            %for index, country in enumerate(property_country_list):
                <option value="{{country.get('id')}}"
                    %if country.get('id') == '541c09286b8099496db84f56':
                    selected
                    %end
                    >{{country.get('value')}}</option>
            %end
        </select>
        <span>{{_('的')}}</span>
        <hr class="separator_phone"/>
        <select class="ghostSelect" name="propertyCity">
            <option value="" selected>{{_('任意城市')}}</option>
            %for index, city in enumerate(property_city_list):
                <option value="{{city.get('id')}}">{{city.get('value')}}</option>
            %end
        </select>
        <span>{{_('找')}}</span>
        <hr class="separator_phone hiddenOnMobile"/>
        <select class="ghostSelect hiddenOnMobile" name="propertyType">
            <option value="" selected>{{_('任意类型房产')}}</option>
            %for index, property_type in enumerate(property_type_list):
                % if property_type.get('slug') != 'new_property':
                    <option value="{{property_type.get('id')}}">{{property_type.get('value')}}</option>
                % end
            %end
        </select>
        <span>{{_('的')}}</span>
        <hr class="separator_phone"/>
        <select class="ghostSelect" name="rentType">
            <option value="" selected>{{_('单间或整租')}}</option>
            %for index, rent_type in enumerate(rent_type_list):
                <option value="{{rent_type.get('id')}}">{{rent_type.get('value')}}</option>
            %end
        </select>
    </div>
</div>

<div id="result" class="result">
    <div id="tags" class="tags">
        <div class="tags_inner">
            <a href="/property-to-rent/create" class="rentalCreate button red"><span class=big>{{_('发布租房信息')}}</span></a>

            <h3 class="title">{{_('从搜索结果中筛选')}}</h3>


            %if rent_budget_list:
                <div class="propertyType hiddenOnPCWeb">
                    <img class="propertyType_icon" alt="" src="/static/images/property_list/intention-tag.png"/>
                    <h4 class="propertyType_title">{{_('房产类型')}}</h4>
                    <div id="propertyTypeTag" class="inner">
                        %for index, property_type in enumerate(property_type_list):
                            % if property_type.get('slug') != 'new_property':
                                <div class="toggleTag" data-id="{{property_type.get('id')}}">{{property_type.get('value')}}</div>
                            %end
                        %end
                    </div>
                </div>
            %end

            %if rent_budget_list:
                <div class="rentalBudget">
                    <img class="rentalBudget_icon" alt="" src="/static/images/property_list/price-tag.png"/>
                    <h4 class="rentalBudget_title">{{_('租金')}}
                        (
                        <!--@@include=partials/current_currency.html -->
                        )
                    </h4>
                    <div id="rentBudgetTag" class="inner">
                        %for index, rent_budget in enumerate(rent_budget_list):
                        %if rent_budget.get('currency') == _.currency:
                        <div class="toggleTag" data-id="{{rent_budget.get('id')}}" data-index="{{index}}">{{rent_budget.get('value')}}</div>
                        %end
                        %end
                    </div>
                </div>
            %end


            %if rent_period_list:
                <div class="rentPeriod">
                    <img class="rentPeriod_icon" alt="" src="/static/images/property_list/intention-tag.png"/>
                    <h4 class="rentPeriod_title">{{_('租期')}}</h4>
                    <div id="rentPeriodTag" class="inner">
                        %for index, rent_period in enumerate(rent_period_list):
                            <div class="toggleTag" data-id="{{rent_period.get('id')}}">{{rent_period.get('value')}}
                            </div>
                        %end
                    </div>
                </div>
            %end

            <div class="calendar">
                <img class="calendar_icon" alt="" src="/static/images/property_list/calendar-tag.png"/>
                <h4 class="calendar_title">{{_('起租日期')}}</h4>
                <div class="inner">
                    <span>{{_('自')}}</span>
                    <div class="date">
                        <input type="text" class="" id="rentPeriodStartDate" name="rentPeriodStartDate" value="" placeholder="{{_('请选择起租日期')}}"/>
                        <i class="clear" style="display: none" title="{{_('清空日期')}}"><img alt="" src="/static/images/intention/close.png"></i>
                    </div>
                    <span>{{_('起')}}</span>
                </div>
            </div>

            %if bedroom_count_list:
                <div class="bedroomCount">
                    <img class="bedroomCount_icon" alt="" src="/static/images/property_list/bedroom-tag.png"/>
                    <h4 class="bedroomCount_title">{{_('居室数')}}</h4>
                    <div id="bedroomCountTag" class="inner">
                        % for bedroom_count in bedroom_count_list:
                            <div class="toggleTag" data-id="{{bedroom_count.get('id')}}">{{bedroom_count.get('value')}}</div>
                        % end
                    </div>
                </div>
            %end

            %if building_area_list:
                <div class="space">
                    <img class="space_icon" alt="" src="/static/images/property_list/size-tag.png"/>
                    <h4 class="space_title">{{_('面积')}}</h4>
                    <div id="spaceTag" class="inner">
                        % for building_area in building_area_list:
                            <div class="toggleTag" data-id="{{building_area.get('id')}}">{{building_area.get('value')}}</div>
                        % end
                    </div>
                </div>
            %end



        </div>
        <button id="showTags"  class="showTags textButton" data-state="closed">
            <label>{{_('更多选择')}}</label>
            <img alt="" src="/static/images/property_list/tags-indicator-phone.png"/>
        </button>
    </div>

    <div id="result_list_container" class="result_list_container">
        <h2 id="number_container" class="result_number" style="display:none">
            <!--{{_('共找到')}}<span id="number" class="number"></span> {{_('套房产')}}-->
            {{_('共找到下列出租房产')}}
        </h2>
        <div data-tabs>
            <ul id="tabSelector" class="tabSelector">
                <li data-tab=list>
                    <img class="active" alt="{{_('列表')}}" src="/static/images/property_list/tab-list-active.png"/>
                    <img class="normal" alt="{{_('列表')}}" src="/static/images/property_list/tab-list-normal.png"/>
                </li>
                <li data-tab=map>
                    <img class="normal" alt="{{_('地图')}}" src="/static/images/property_list/tab-map-normal.png"/>
                    <img class="active" alt="{{_('地图')}}" src="/static/images/property_list/tab-map-active.png"/>
                </li>
            </ul>
            <div class="tabContent">
                <div class="item" data-tab-name="list">
                    <div id="result_list" class="result_list">

                    </div>
                    <div id="addtionalResultList_wrapper" class="addtionalResultList_wrapper" style="display:none;">
                        <div class="noSuitableHint">
                            <div class="line"></div>
                            <label class="hint">
                                {{_('没有找到合适的？来这里看看吧')}}
                            </label>
                        </div>
                        <div id="addtionalResultList" class="addtionalResultList">
                 
                        </div>
                    </div>
                    <hr class="border">
                    <img src="/static/images/common/ajax-loader.gif" id="loadIndicator" class="loadIndicator" style="display:none"/>
                </div>
                <div  class="item" data-tab-name="map">
                    <div id="mapCanvas" class="mapCanvas" style="position:relative;"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="emptyPlaceHolder" class="emptyPlaceHolder" style="display:none">
        <img alt="" src="/static/images/property_list/empty-hint.png"/>
        <div class="info">
            <h2 class="hint">{{_('暂无此类出租房产')}}</h2>
            <p class="addition">{{_('试试其他筛选条件吧...')}}
        </div>
    </div>

    <div class="tabSelector_phone hiddenInClient" data-tab="list">
        <img class="list" alt="" src="/static/images/property_list/tab-list-phone.png"/>
        <img class="map" alt="" src="/static/images/property_list/tab-map-phone.png"/>
    </div>

</div>
<!-- @@include=/static/templates/rent_card.tpl.html-->
<!-- @@include=/static/templates/rent_map_card.tpl.html-->

<!--@@close-->

<!--@@block=scripts -->
<!--build:js /static/scripts/property_to_rent_list.html.js-->
<script src="/static/bower_components/moment/moment.js"></script>
<script src="/static/bower_components/jquery.daterangepicker/jquery.daterangepicker.js"></script>
<script src="/static/scripts/property_to_rent_list.js"></script>
<!--endbuild-->
<!--@@close-->

